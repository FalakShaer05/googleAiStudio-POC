# Character Generator API - Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED - Google Gemini API
# =============================================================================
# Get your API key from: https://ai.google.dev/
GEMINI_API_KEY=your_gemini_api_key_here

# Optional: override the Gemini image model id (defaults to gemini-2.5-flash-image)
# This is useful when Google retires preview model ids.
GEMINI_IMAGE_MODEL=gemini-2.5-flash-image
#
# To try Gemini 3 Pro Image Preview:
# GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview
#
# Optional fallback model if the primary model is temporarily unavailable (503/timeout):
# GEMINI_FALLBACK_IMAGE_MODEL=gemini-2.5-flash-image
#
# Optional retry tuning for transient 429/503/deadline errors:
# GEMINI_MAX_RETRIES=3
# GEMINI_RETRY_INITIAL_DELAY_S=1.0
# GEMINI_RETRY_MAX_DELAY_S=10.0

# =============================================================================
# REQUIRED - AWS S3 Configuration
# =============================================================================
# Required for uploading generated images to S3
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
S3_BUCKET=mosida

# =============================================================================
# REQUIRED - CloudFront CDN URL
# =============================================================================
# CloudFront distribution URL for serving images
CLOUDFRONT_URL=https://d2s4ngnid78ki4.cloudfront.net

# =============================================================================
# REQUIRED - Freepik API (for background removal)
# =============================================================================
# Get your API key from: https://www.freepik.com/
# Required if you want to use the /remove-bg endpoint
FREEPIK_API_KEY=your_freepik_api_key_here

# =============================================================================
# OPTIONAL - API Security
# =============================================================================
# API key for securing API endpoints
# If not set, API endpoints are publicly accessible (development mode)
# If set, protected endpoints require this key via X-API-Key header or api_key query parameter
# Generate a secure key: openssl rand -hex 32
API_KEY=

# =============================================================================
# OPTIONAL - AWS Configuration
# =============================================================================
# AWS region for S3 operations (defaults to us-east-1 if not specified)
AWS_DEFAULT_REGION=us-east-1

# Optional prefix/folder path in S3 bucket (defaults to converted/ if not specified)
S3_PREFIX=converted/

# =============================================================================
# NOTES
# =============================================================================
# - All generated images are automatically uploaded to S3 and served via CloudFront CDN
# - The API will return both image_url (CloudFront URL) and local_path in responses
# - If S3 upload fails, the application will still work but will only return local paths
# - Make sure your S3 bucket has proper permissions and CloudFront is configured correctly
